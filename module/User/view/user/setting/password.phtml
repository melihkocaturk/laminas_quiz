<?php

$title = $this->translate('Change Password');

$this->headTitle($this->escapeHtml($title));
$this->headMeta()->appendName('keywords', 'Settings, Change, Password');
$this->headMeta()->appendName('description', 'Change my password');

$form = $this->form;
$form->setAttribute('action', $this->url('settings', ['action' => 'password']));
$form->prepare();

?>

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <a href="<?= $this->url('settings', ['action' => 'index']) ?>">Settings</a> / <?= $this->escapeHtml($title) ?>

            <h2><?= $this->escapeHtml($title) ?></h2>

            <?= $this->form()->openTag($form) ?>

            <div class="mb-3">
                <?= $this->formLabel($form->get('current_password')) ?>
                <div class="form-group">
                    <?= $this->formPassword($form->get('current_password')) ?>
                </div>

                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('current_password')) ?>
                </div>
            </div>

            <div class="mb-3">
                <?= $this->formLabel($form->get('new_password')) ?>
                <div class="form-group">
                    <?= $this->formPassword($form->get('new_password')) ?>
                </div>

                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('new_password')) ?>
                </div>
            </div>

            <div class="mb-3">
                <?= $this->formLabel($form->get('confirm_new_password')) ?>
                <div class="form-group">
                    <?= $this->formPassword($form->get('confirm_new_password')) ?>
                </div>

                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('confirm_new_password')) ?>
                </div>
            </div>

            <div class="mb-3">
                <?= $this->formHidden($form->get('csrf')) ?>
                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('csrf')) ?>
                </div>

                <?= $this->formSubmit($form->get('change_password')) ?>
            </div>

            <?= $this->form()->closeTag() ?>
            
        </div>
        <div class="col-md-8"></div>
    </div>
</div>